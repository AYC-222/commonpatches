From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Shihui Zhao <zhaoshihui3@huawei.com>
Date: Sat, 25 Feb 2017 14:22:47 +0800
Subject: ANDROID: arm64: dts: hi3660: enable gpu

enable gpu in the hi3660/hikey960 dts

Bug: 146450171
Signed-off-by: Shihui Zhao <zhaoshihui3@huawei.com>
Signed-off-by: John Stultz <john.stultz@linaro.org>
Change-Id: I5e72a7dc14e760f442db5b9e55b0df26597cfbcd
---
 arch/arm64/boot/dts/hisilicon/hi3660-gpu.dtsi | 19 +++++++++++++++++++
 .../boot/dts/hisilicon/hi3660-hikey960.dts    |  1 +
 2 files changed, 20 insertions(+)
 create mode 100644 arch/arm64/boot/dts/hisilicon/hi3660-gpu.dtsi

diff --git a/arch/arm64/boot/dts/hisilicon/hi3660-gpu.dtsi b/arch/arm64/boot/dts/hisilicon/hi3660-gpu.dtsi
new file mode 100644
index 000000000000..0cce0ce3adbc
--- /dev/null
+++ b/arch/arm64/boot/dts/hisilicon/hi3660-gpu.dtsi
@@ -0,0 +1,19 @@
+/{
+    gpu: mali@E82C0000 {
+        compatible = "arm,malit6xx", "arm,mali-midgard";
+        #cooling-cells = <3>; /* min followed by max */
+        gpu_outstanding = <0x0>;
+        reg = <0x0 0xE82C0000 0x0 0x4000>;
+        interrupts = <0 258 4 0 259 4 0 260 4>;
+        interrupt-names = "JOB", "MMU", "GPU";
+        operating-points = <
+		/* <frequency> <voltage>*/
+		178000  650000
+		400000	700000
+		533000	800000
+		807000	900000
+		960000	1000000
+		1037000 1100000
+        >;
+    };
+};
diff --git a/arch/arm64/boot/dts/hisilicon/hi3660-hikey960.dts b/arch/arm64/boot/dts/hisilicon/hi3660-hikey960.dts
index f53c7e972878..f5f5d79f2e89 100644
--- a/arch/arm64/boot/dts/hisilicon/hi3660-hikey960.dts
+++ b/arch/arm64/boot/dts/hisilicon/hi3660-hikey960.dts
@@ -11,6 +11,7 @@
 #include "hi3660.dtsi"
 #include "hikey960-pinctrl.dtsi"
 #include "hi3660-drm.dtsi"
+#include "hi3660-gpu.dtsi"
 
 #include <dt-bindings/gpio/gpio.h>
 #include <dt-bindings/input/input.h>
